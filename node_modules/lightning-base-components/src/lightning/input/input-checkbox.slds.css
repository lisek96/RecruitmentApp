
/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
  Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */

@supports (--styling-hooks: '') {
  /**
   * Base
   */
  :host([data-render-mode="shadow"]) [part~='input-checkbox'] {
    /* Label */
    --sds-c-inputcheckbox-label-spacing-inline-start: var(
      --slds-c-inputcheckbox-label-spacing-inline-start,
      var(--sds-g-spacing-2, 0.5rem)
    );
  }

  /**
   * Label Container
   */
  :host([data-render-mode="shadow"]) [part~='label-container'] {
    display: inline-flex;
    align-items: center;
  }

  /**
   * Checkbox
   *
   * Hidden from view, see Indicator for visual faux checkbox.
   */
  :host([data-render-mode="shadow"]) [part~='checkbox'] {
    width: 1px;
    height: 1px;
    border: 0;
    clip: rect(0 0 0 0);
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    pointer-events: auto;
  }

  /**
   * Required Marker
   */
  :host([data-render-mode="shadow"]) [title='required'] {
    color: var(--sds-g-color-error-base-50, #ea001e);
    padding-right: var(--sds-g-spacing-1, 0.25rem);
  }

  /**
   * Checkbox Indicator
   *
   * ┌────────────────────┐  ┌─────────────────────┐
   * │      sds-icon      │  │   Faux via <span>   │
   * └────────────────────┘  └─────────────────────┘
   *           ▲                        ▲
   * ┌────────────────────┐  ┌─────────────────────┐
   * │ sds-input-checkbox │  │ slds-input-checkbox │
   * └────────────────────┘  └─────────────────────┘
   *
   * sds-input-checkbox uses sds-icon for its visual checkbox indicator. SLDS
   * + LBC uses a styled <span>. Due to this divergence, we require custom CSS.
   */
  :host([data-render-mode="shadow"]) [part~='indicator'] {
    position: relative;
    width: var(--slds-c-inputcheckbox-sizing, 1rem);
    height: var(--slds-c-inputcheckbox-sizing, 1rem);
    border-radius: var(--slds-c-inputcheckbox-radius-border, var(--sds-g-radius-border-1, 0.125rem));
    border: var(--slds-c-inputcheckbox-sizing-border, var(--sds-g-sizing-border-1, 1px)) solid
      var(--slds-c-inputcheckbox-color-border, var(--sds-g-color-neutral-base-80, #c9c9c9));
    background-color: var(--slds-c-inputcheckbox-color-background, var(--sds-g-color-neutral-base-100, #ffffff));
    box-shadow: var(--slds-c-inputcheckbox-shadow);
    transition: border 0.1s linear, background-color 0.1s linear;
  }

  /**
   * Checked
   */
  :host([data-render-mode="shadow"][checked]) [part~='indicator']::after {
    content: '';
    height: calc(var(--slds-c-inputcheckbox-sizing, 1rem) / 4);
    width: calc(var(--slds-c-inputcheckbox-sizing, 1rem) / 2);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0) rotate(-45deg);
    border-bottom: 2px solid
      var(--slds-c-inputcheckbox-mark-color-foreground, var(--sds-g-color-brand-base-50, #0176d3));
    border-left: 2px solid var(--slds-c-inputcheckbox-mark-color-foreground, var(--sds-g-color-brand-base-50, #0176d3));
  }

  :host([data-render-mode="shadow"][checked]) [part~='indicator'] {
    --slds-c-inputcheckbox-color-background: var(--slds-c-inputcheckbox-color-background-checked);
    --slds-c-inputcheckbox-color-border: var(--slds-c-inputcheckbox-color-border-checked);
  }

  /**
   * Disabled
   */
  :host([data-render-mode="shadow"][disabled]) [part~='indicator'] {
    --slds-c-inputcheckbox-color-background: var(
      --slds-c-inputcheckbox-color-background-disabled,
      var(--sds-g-color-neutral-base-95, #f3f3f3)
    );
    --slds-c-inputcheckbox-color-border: var(--slds-c-inputcheckbox-color-border-disabled);
    --slds-c-inputcheckbox-mark-color-foreground: var(
      --slds-c-inputcheckbox-mark-color-foreground-disabled,
      var(--sds-g-color-neutral-base-60, #939393)
    );
  }

  /**
   * Focused
   */
  :host([data-render-mode="shadow"]:focus-within) [part~='indicator'] {
    --slds-c-inputcheckbox-color-background: var(--slds-c-inputcheckbox-color-background-focus);
    --slds-c-inputcheckbox-color-border: var(
      --slds-c-inputcheckbox-color-border-focus,
      var(--sds-g-color-brand-base-50, #0176d3)
    );
    --slds-c-inputcheckbox-shadow: var(
      --slds-c-inputcheckbox-shadow-focus,
      0 0 3px var(--sds-g-color-brand-base-50, #0176d3)
    );
  }

  /**
   * Invalid
   */
  :host([data-render-mode="shadow"][invalid]) [part~='indicator'] {
    --slds-c-inputcheckbox-color-background: var(--slds-c-inputcheckbox-color-background-invalid);
    --slds-c-inputcheckbox-sizing-border: var(
      --slds-c-inputcheckbox-sizing-border-invalid,
      var(--sds-g-sizing-border-2, 2px)
    );
    --slds-c-inputcheckbox-color-border: var(
      --slds-c-inputcheckbox-color-border-invalid,
      var(--sds-g-color-error-base-50, #ea001e)
    );
  }

  :host([data-render-mode="shadow"][invalid]) [part~='help-text'] {
    color: var(--slds-c-inputcheckbox-helptext-color-invalid, var(--sds-g-color-error-base-50, #ea001e));
  }
}
